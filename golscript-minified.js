var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},playback={paused:"no",anim:null,restart:"no"},Button=React.createClass({displayName:"Button",render:function(){var a;switch(this.props.id){case"play":a="ion-play";break;case"pause":a="ion-pause";break;case"clear":a="ion-android-delete";break;case"random":a="ion-shuffle";break;case"grid":a="ion-grid";break;case"fade":a="ion-star"}return React.createElement("button",_extends({},this.props,{className:"panel-button",title:this.props.id.toUpperCase()}),React.createElement("i",{className:a,id:this.props.id}))}}),Panel=React.createClass({displayName:"Panel",render:function(){var a=["play","pause","clear","random","grid","fade"],b=this.props.gen;return React.createElement("div",_extends({},this.props,{className:"control-panel"}),React.createElement("div",{className:"timer"},React.createElement("span",{className:"timerDescription"},"Generation: "),React.createElement("span",{className:"timerNumber"},b),React.createElement("div",{className:"ConwayName"},React.createElement("span",{className:"actualtitle"}," Conway's Game Of Life : React.js"))),a.map(function(a){return React.createElement(Button,{id:a})}))}}),Cell=React.createClass({displayName:"Cell",render:function(){var a=+this.props.id.slice(4),b={background:"hsl("+(50+Math.floor(1.5*(Math.floor(a/40)+a%60)))+", 80%, 70%)"};return React.createElement("div",_extends({},this.props,{style:"on"==this.props.randomness&&"alive"==this.props.alive?b:null}))}}),GameBox=React.createClass({displayName:"GameBox",getInitialState:function(){return{list:this.createCells(),grid:"off",fade:"off"}},getDefaultProps:function(){return{rows:40,cols:60}},Num:function(a,b){return a*this.props.cols+b},checkalive:function(a,b){var c=this.state.list.slice(),d=this.props.cols,e=this.props.rows,f=this.Num(a,b),g=f-d,h=f+d,i=f+d,j=f-d,k=f-1,l=f+1,m=g-1,n=g+1,o=h-1,p=h+1,q=[];0===a?(g=f+(e-1)*d,j=g,n=g+1,m=g-1,0===b?(o=e+d-1,k=d-1,m=e*d-1):b==d-1&&(p=f+1,l=0,n=(e-1)*d)):a==e-1?(i=f-(e-1)*d,o=i-1,p=i+1,0===b?(o=d-1,k=e*d-1,m=f-1):b==d-1&&(l=f-d+1,n=f-2*d+1,p=0)):0!==a&&a!=e&&0===b?(k=f+d-1,o=f+2*d-1,m=f-1):0!==a&&a!=e&&b==d-1&&(l=f-d+1,n=f-2*d+1,p=f+1),q.push(j,m,n,i,o,p,k,l);var r=0;for(var s in q)"alive"==c[q[s]]&&r++;return r},createCells:function(a){for(var b,c=[],d=0;d<this.props.rows;d++)for(var e=0;e<this.props.cols;e++)b="dead"==a||"alive"==a?a:1==Math.floor(10*Math.random())?"alive":"dead",c.push(b);return c},componentWillReceiveProps:function(){for(var a=this.state.list.slice(),b=0,c=0;c<this.props.rows;c++)for(var d=0;d<this.props.cols;d++){var e=this.checkalive(c,d),f=this.Num(c,d);status=a[f],"dead"==status?3==e&&(a[f]="alive"):2>e?a[f]="dead":e>3&&(a[f]="dead"),"dead"==a[f]&&b++}b==this.props.rows*this.props.cols&&(playback.paused="yes",playback.restart="yes"),this.setState(function(){return{list:a}})},handleClick:function(a){switch(a.target.id){case"play":return void("yes"==playback.paused&&(playback.paused="no",window.requestAnimationFrame(playback.anim)));case"pause":return void("no"==playback.paused&&(playback.paused="yes"));case"clear":return playback.paused="yes",playback.restart="yes",void this.setState(function(){return{list:this.createCells("dead")}});case"random":return playback.restart="yes",void this.setState(function(){return{list:this.createCells()}});case"grid":return void this.setState(function(){if("off"==this.state.grid){var a="on";document.getElementById("grid").classList.add("activebutt")}else a="off",document.getElementById("grid").classList.remove("activebutt");return{grid:a}});case"fade":if("off"==this.state.fade){var b="on";document.getElementById("fade").classList.add("activebutt")}else b="off",document.getElementById("fade").classList.remove("activebutt");return void this.setState(function(){return{fade:b}})}var c=a.target.classList,d=this.state.list.slice(),e=+a.target.id.slice(4);for(var f in c){if("cell-alive"==c[f]){a.target.classList.remove("cell-alive"),a.target.classList.add("cell-dead"),d[e]="dead";break}if("cell-dead"==c[f]){a.target.classList.remove("cell-dead"),a.target.classList.add("cell-alive"),d[e]="alive";break}}this.setState(function(){return{list:d}})},render:function(){var c=(this.props.rows,this.props.cols,this.state.grid),d=this.state.fade,e={overflow:"off"==c?"visible":"hidden"};return React.createElement("div",{className:this.props.className,onClick:this.handleClick,style:e},React.createElement(Panel,{id:"panel",gen:"no"==playback.restart?this.props.generation:0}),this.state.list.map(function(a,b){return React.createElement(Cell,{className:"cell cell-"+a+" grid-"+c+" fade-"+d,id:"val-"+b,key:b,randomness:c,alive:a})}))}});(function(){var a=0;playback.anim=function(){"yes"==playback.restart&&(a=0,playback.restart="no"),ReactDOM.render(React.createElement(GameBox,{className:"outerbox",generation:a}),document.getElementById("Board")),"no"==playback.paused&&window.requestAnimationFrame(playback.anim),a+=1},window.requestAnimationFrame(playback.anim)}).call(this);